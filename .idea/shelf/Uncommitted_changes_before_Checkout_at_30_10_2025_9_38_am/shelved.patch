Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"2be6d282-a762-403d-a5ae-082db3b321d4\" name=\"Changes\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/formulation.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/formulation.py\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"a1afc6ff92a959826af1fbe126b8504c6e177c55\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;Freyze10&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/Freyze10/production-formula.git&quot;,\r\n    &quot;accountId&quot;: &quot;69872e8b-c644-4823-811a-2f00aaddb812&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 5\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"30cyl98oMslRmkVzFwDz1mvVhfK\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Python.dfr.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.fg_endorsement.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.fgendorsement.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.fgmain.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.formulation (1).executor&quot;: &quot;Debug&quot;,\r\n    &quot;Python.formulation.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.main-2.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.main.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.sync-formula.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.sync_formula (1).executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.sync_formula.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.view.executor&quot;: &quot;Run&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/Brant/PycharmProjects/Side-Production-Formula/FG-INV&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;reference.idesettings.debugger.python&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;GitStage.ChangesTree.GroupingKeys&quot;: [\r\n      &quot;directory&quot;,\r\n      &quot;module&quot;,\r\n      &quot;repository&quot;\r\n    ]\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\utils\" />\r\n      <recent name=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\utils\" />\r\n      <recent name=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\db\" />\r\n      <recent name=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\side_bar\" />\r\n      <recent name=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\" />\r\n      <recent name=\"D:\\Users\\Administrator\\PycharmProjects\\FG-INV\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Python.main\">\r\n    <configuration name=\"dfr\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"FG-INV\" />\r\n      <option name=\"ENV_FILES\" value=\"\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/dfr.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"formulation\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"FG-INV\" />\r\n      <option name=\"ENV_FILES\" value=\"\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\side_bar\\formulation.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"main\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"FG-INV\" />\r\n      <option name=\"ENV_FILES\" value=\"\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/main.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"sync_formula (1)\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"FG-INV\" />\r\n      <option name=\"ENV_FILES\" value=\"\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$/db\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/db/sync_formula.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"sync_formula\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"FG-INV\" />\r\n      <option name=\"ENV_FILES\" value=\"\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\db\\sync_formula.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <configuration name=\"sync_formula\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <module name=\"FG-INV\" />\r\n      <option name=\"ENV_FILES\" value=\"\" />\r\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\r\n      <option name=\"PARENT_ENVS\" value=\"true\" />\r\n      <envs>\r\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\r\n      </envs>\r\n      <option name=\"SDK_HOME\" value=\"\" />\r\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\r\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\r\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\r\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\r\n      <option name=\"SCRIPT_NAME\" value=\"C:\\Users\\Brant\\PycharmProjects\\Side-Production-Formula\\FG-INV\\db\\sync_formula.py\" />\r\n      <option name=\"PARAMETERS\" value=\"\" />\r\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\r\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\r\n      <option name=\"MODULE_MODE\" value=\"false\" />\r\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\r\n      <option name=\"INPUT_FILE\" value=\"\" />\r\n      <method v=\"2\" />\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Python.main\" />\r\n        <item itemvalue=\"Python.sync_formula (1)\" />\r\n        <item itemvalue=\"Python.sync_formula\" />\r\n        <item itemvalue=\"Python.formulation\" />\r\n        <item itemvalue=\"Python.dfr\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-python-sdk-337b0a7a993a-31b6be0877a2-com.jetbrains.pycharm.community.sharedIndexes.bundled-PC-241.19416.19\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"2be6d282-a762-403d-a5ae-082db3b321d4\" name=\"Changes\" comment=\"\" />\r\n      <created>1753941304600</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1753941304600</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00153\" summary=\"layout change\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761620305338</created>\r\n      <option name=\"number\" value=\"00153\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00153\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761620305338</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00154\" summary=\"layout fix on manual\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761620974863</created>\r\n      <option name=\"number\" value=\"00154\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00154\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761620974863</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00155\" summary=\"add minimum  height on note field\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761621832344</created>\r\n      <option name=\"number\" value=\"00155\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00155\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761621832344</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00156\" summary=\"modified field  layout\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761622466359</created>\r\n      <option name=\"number\" value=\"00156\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00156\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761622466359</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00157\" summary=\"refactored numeric table\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761623084492</created>\r\n      <option name=\"number\" value=\"00157\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00157\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761623084492</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00158\" summary=\"added double click on formula selection\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761623860939</created>\r\n      <option name=\"number\" value=\"00158\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00158\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761623860939</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00159\" summary=\"modified checkbox func\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761629153870</created>\r\n      <option name=\"number\" value=\"00159\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00159\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761629153870</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00160\" summary=\"fixed the rm code init\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761629445216</created>\r\n      <option name=\"number\" value=\"00160\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00160\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761629445216</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00161\" summary=\"modified material code entry\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761634222858</created>\r\n      <option name=\"number\" value=\"00161\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00161\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761634222858</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00162\" summary=\"removed close button\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761634475361</created>\r\n      <option name=\"number\" value=\"00162\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00162\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761634475361</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00163\" summary=\"reduced table column\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761636858185</created>\r\n      <option name=\"number\" value=\"00163\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00163\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761636858185</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00164\" summary=\"rearranged buttons\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761636920350</created>\r\n      <option name=\"number\" value=\"00164\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00164\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761636920350</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00165\" summary=\"modified new formulation\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761637391254</created>\r\n      <option name=\"number\" value=\"00165\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00165\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761637391254</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00166\" summary=\"edit material code initial val\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761641034510</created>\r\n      <option name=\"number\" value=\"00166\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00166\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761641034510</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00167\" summary=\"edit material code initial val\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761643609502</created>\r\n      <option name=\"number\" value=\"00167\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00167\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761643609502</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00168\" summary=\"added clear table function\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761697820144</created>\r\n      <option name=\"number\" value=\"00168\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00168\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761697820144</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00169\" summary=\"connected clear table function\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761697858170</created>\r\n      <option name=\"number\" value=\"00169\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00169\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761697858170</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00170\" summary=\"added update total on clear\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761697961631</created>\r\n      <option name=\"number\" value=\"00170\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00170\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761697961631</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00171\" summary=\"repositioned select formula icon\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761703265320</created>\r\n      <option name=\"number\" value=\"00171\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00171\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761703265320</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00172\" summary=\"removed formtype layout\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761703770134</created>\r\n      <option name=\"number\" value=\"00172\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00172\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761703770134</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00173\" summary=\"clean float calc save func\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761705700228</created>\r\n      <option name=\"number\" value=\"00173\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00173\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761705700228</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00174\" summary=\"edited fields to save\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761709193018</created>\r\n      <option name=\"number\" value=\"00174\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00174\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761709193018</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00175\" summary=\"modified fields to save\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761710066543</created>\r\n      <option name=\"number\" value=\"00175\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00175\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761710066543</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00176\" summary=\"fixed float formatt lower dosage\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761715408025</created>\r\n      <option name=\"number\" value=\"00176\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00176\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761715408025</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00177\" summary=\"fixed float format sum cons\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761715451008</created>\r\n      <option name=\"number\" value=\"00177\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00177\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761715451008</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00178\" summary=\"added return on enter\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761716761709</created>\r\n      <option name=\"number\" value=\"00178\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00178\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761716761709</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00179\" summary=\"added return on enter\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761716917464</created>\r\n      <option name=\"number\" value=\"00179\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00179\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761716917464</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00180\" summary=\"modified focus after add\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761717254116</created>\r\n      <option name=\"number\" value=\"00180\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00180\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761717254116</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00181\" summary=\"modified material entry fields\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761717819057</created>\r\n      <option name=\"number\" value=\"00181\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00181\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761717819057</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00182\" summary=\"removed wip placeholder\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761719040161</created>\r\n      <option name=\"number\" value=\"00182\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00182\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761719040161</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00183\" summary=\"added is_manual in db\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761719351649</created>\r\n      <option name=\"number\" value=\"00183\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00183\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761719351649</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00184\" summary=\"added is_manual in db\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761721883520</created>\r\n      <option name=\"number\" value=\"00184\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00184\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761721883520</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00185\" summary=\"added view and edit in manual\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761723206749</created>\r\n      <option name=\"number\" value=\"00185\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00185\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761723206749</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00186\" summary=\"added check if manual\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761723394911</created>\r\n      <option name=\"number\" value=\"00186\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00186\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761723394911</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00187\" summary=\"connected frfom the first widget\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761725121160</created>\r\n      <option name=\"number\" value=\"00187\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00187\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761725121160</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00188\" summary=\"fixing edit display manual\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761725916625</created>\r\n      <option name=\"number\" value=\"00188\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00188\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761725916625</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00189\" summary=\"fixed edit and view connect to manual\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761726332846</created>\r\n      <option name=\"number\" value=\"00189\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00189\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761726332846</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00190\" summary=\"debugging\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786414811</created>\r\n      <option name=\"number\" value=\"00190\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00190\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786414811</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00191\" summary=\"created production preview\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786447713</created>\r\n      <option name=\"number\" value=\"00191\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00191\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786447713</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00192\" summary=\"created production preview\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786453032</created>\r\n      <option name=\"number\" value=\"00192\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00192\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786453032</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00193\" summary=\"modified manual print prev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786526055</created>\r\n      <option name=\"number\" value=\"00193\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00193\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786526055</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00194\" summary=\"refactored file name\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786684556</created>\r\n      <option name=\"number\" value=\"00194\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00194\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786684556</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00195\" summary=\"refactored file name\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786854646</created>\r\n      <option name=\"number\" value=\"00195\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00195\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786854646</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00196\" summary=\"refactored file name\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761786857362</created>\r\n      <option name=\"number\" value=\"00196\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00196\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761786857362</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00197\" summary=\"refactored file name\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761787237250</created>\r\n      <option name=\"number\" value=\"00197\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00197\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761787237250</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00198\" summary=\"refactored file name\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761787358936</created>\r\n      <option name=\"number\" value=\"00198\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00198\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761787358936</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00199\" summary=\"refactored file name\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761787364565</created>\r\n      <option name=\"number\" value=\"00199\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00199\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761787364565</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00200\" summary=\"delete trouble files\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761787429974</created>\r\n      <option name=\"number\" value=\"00200\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00200\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761787429974</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00201\" summary=\"delete trouble files\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761787433301</created>\r\n      <option name=\"number\" value=\"00201\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00201\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761787433301</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"202\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"CUSTOM_BOOLEAN_PROPERTIES\">\r\n                <map>\r\n                  <entry key=\"Show.Git.Branches\" value=\"true\" />\r\n                </map>\r\n              </option>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"main\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"added clear table function\" />\r\n    <MESSAGE value=\"connected clear table function\" />\r\n    <MESSAGE value=\"added update total on clear\" />\r\n    <MESSAGE value=\"repositioned select formula icon\" />\r\n    <MESSAGE value=\"removed formtype layout\" />\r\n    <MESSAGE value=\"clean float calc save func\" />\r\n    <MESSAGE value=\"edited fields to save\" />\r\n    <MESSAGE value=\"modified fields to save\" />\r\n    <MESSAGE value=\"fixed float formatt lower dosage\" />\r\n    <MESSAGE value=\"fixed float format sum cons\" />\r\n    <MESSAGE value=\"added return on enter\" />\r\n    <MESSAGE value=\"modified focus after add\" />\r\n    <MESSAGE value=\"modified material entry fields\" />\r\n    <MESSAGE value=\"removed wip placeholder\" />\r\n    <MESSAGE value=\"added is_manual in db\" />\r\n    <MESSAGE value=\"added view and edit in manual\" />\r\n    <MESSAGE value=\"added check if manual\" />\r\n    <MESSAGE value=\"connected frfom the first widget\" />\r\n    <MESSAGE value=\"fixing edit display manual\" />\r\n    <MESSAGE value=\"fixed edit and view connect to manual\" />\r\n    <MESSAGE value=\"debugging\" />\r\n    <MESSAGE value=\"created production preview\" />\r\n    <MESSAGE value=\"modified manual print prev\" />\r\n    <MESSAGE value=\"refactored file name\" />\r\n    <MESSAGE value=\"delete trouble files\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"delete trouble files\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\r\n          <url>file://$PROJECT_DIR$/side_bar/formulation.py</url>\r\n          <line>748</line>\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\r\n          <url>file://$PROJECT_DIR$/db/db_call.py</url>\r\n          <line>312</line>\r\n          <option name=\"timeStamp\" value=\"5\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n      <default-breakpoints>\r\n        <breakpoint enabled=\"true\" log-message=\"true\" type=\"python-exception\">\r\n          <properties notifyOnlyOnFirst=\"true\" exception=\"BaseException\">\r\n            <option name=\"notifyOnlyOnFirst\" value=\"true\" />\r\n          </properties>\r\n        </breakpoint>\r\n      </default-breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	
+++ b/.idea/workspace.xml	
@@ -251,22 +251,6 @@
       <option name="presentableId" value="Default" />
       <updated>1753941304600</updated>
     </task>
-    <task id="LOCAL-00153" summary="layout change">
-      <option name="closed" value="true" />
-      <created>1761620305338</created>
-      <option name="number" value="00153" />
-      <option name="presentableId" value="LOCAL-00153" />
-      <option name="project" value="LOCAL" />
-      <updated>1761620305338</updated>
-    </task>
-    <task id="LOCAL-00154" summary="layout fix on manual">
-      <option name="closed" value="true" />
-      <created>1761620974863</created>
-      <option name="number" value="00154" />
-      <option name="presentableId" value="LOCAL-00154" />
-      <option name="project" value="LOCAL" />
-      <updated>1761620974863</updated>
-    </task>
     <task id="LOCAL-00155" summary="add minimum  height on note field">
       <option name="closed" value="true" />
       <created>1761621832344</created>
@@ -643,7 +627,23 @@
       <option name="project" value="LOCAL" />
       <updated>1761787433301</updated>
     </task>
-    <option name="localTasksCounter" value="202" />
+    <task id="LOCAL-00202" summary="added production manual preview">
+      <option name="closed" value="true" />
+      <created>1761787616135</created>
+      <option name="number" value="00202" />
+      <option name="presentableId" value="LOCAL-00202" />
+      <option name="project" value="LOCAL" />
+      <updated>1761787616135</updated>
+    </task>
+    <task id="LOCAL-00203" summary="added production manual preview">
+      <option name="closed" value="true" />
+      <created>1761787659652</created>
+      <option name="number" value="00203" />
+      <option name="presentableId" value="LOCAL-00203" />
+      <option name="project" value="LOCAL" />
+      <updated>1761787659652</updated>
+    </task>
+    <option name="localTasksCounter" value="204" />
     <servers />
   </component>
   <component name="Vcs.Log.Tabs.Properties">
@@ -675,7 +675,6 @@
     </option>
   </component>
   <component name="VcsManagerConfiguration">
-    <MESSAGE value="added clear table function" />
     <MESSAGE value="connected clear table function" />
     <MESSAGE value="added update total on clear" />
     <MESSAGE value="repositioned select formula icon" />
@@ -700,7 +699,8 @@
     <MESSAGE value="modified manual print prev" />
     <MESSAGE value="refactored file name" />
     <MESSAGE value="delete trouble files" />
-    <option name="LAST_COMMIT_MESSAGE" value="delete trouble files" />
+    <MESSAGE value="added production manual preview" />
+    <option name="LAST_COMMIT_MESSAGE" value="added production manual preview" />
   </component>
   <component name="XDebuggerManager">
     <breakpoint-manager>
Index: side_bar/production_manual_entry.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from datetime import datetime\r\n\r\nfrom PyQt6.QtWidgets import (QWidget, QVBoxLayout, QHBoxLayout, QLabel, QLineEdit, QPushButton,\r\n                             QTableWidget, QTableWidgetItem, QHeaderView, QMessageBox,\r\n                             QAbstractItemView, QFrame, QComboBox, QTextEdit, QGridLayout, QGroupBox,\r\n                             QScrollArea, QCheckBox, QSpinBox, QDoubleSpinBox, QSizePolicy, QCompleter)\r\nfrom PyQt6.QtCore import Qt, QDate\r\nfrom PyQt6.QtGui import QFont\r\nimport qtawesome as fa\r\n\r\nfrom db import db_call\r\nfrom previews.production_manual import ProductionPrintPreview\r\nfrom utils.date import SmartDateEdit\r\nfrom utils.work_station import _get_workstation_info\r\nfrom utils.numeric_table import NumericTableWidgetItem\r\nfrom utils import global_var\r\n\r\nclass ManualProductionPage(QWidget):\r\n    def __init__(self, engine, username, user_role, log_audit_trail):\r\n        super().__init__()\r\n        self.engine = engine\r\n        self.username = username\r\n        self.user_role = user_role\r\n        self.log_audit_trail = log_audit_trail\r\n        self.work_station = _get_workstation_info()\r\n        self.user_id = f\"{self.work_station['h']} # {self.user_role}\"\r\n\r\n        # Track current production for edit/view\r\n        self.current_production_id = None\r\n\r\n        self.setup_ui()\r\n        self.new_production()\r\n        self.user_access(self.user_role)\r\n\r\n    def setup_ui(self):\r\n        main_layout = QVBoxLayout(self)\r\n        main_layout.setContentsMargins(5, 5, 5, 5)\r\n        main_layout.setSpacing(5)\r\n\r\n        # Scrollable content\r\n        scroll = QScrollArea()\r\n        scroll.setWidgetResizable(True)\r\n        scroll.setFrameShape(QFrame.Shape.NoFrame)\r\n\r\n        scroll_widget = QWidget()\r\n        scroll_layout = QHBoxLayout(scroll_widget)\r\n        scroll_layout.setSpacing(12)\r\n\r\n        # Left Column - Production Information\r\n        left_column = QVBoxLayout()\r\n        left_column.setSpacing(8)\r\n\r\n        # Production Information Card\r\n        primary_card = QGroupBox(\"Production Information\")\r\n        primary_layout = QGridLayout(primary_card)\r\n        primary_layout.setSpacing(4)\r\n        primary_layout.setContentsMargins(8, 12, 8, 8)\r\n\r\n        row = 0\r\n\r\n        # WIP No (Production ID)\r\n        self.wip_no_input = QLineEdit()\r\n        self.wip_no_input.setStyleSheet(\"background-color: #e9ecef;\")\r\n        primary_layout.addWidget(QLabel(\"WIP No:\"), row, 0)\r\n        primary_layout.addWidget(self.wip_no_input, row, 1)\r\n        row += 1\r\n\r\n        # Production ID\r\n        self.production_id_input = QLineEdit()\r\n        self.production_id_input.setPlaceholderText(\"0098988\")\r\n        self.production_id_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Production ID:\"), row, 0)\r\n        primary_layout.addWidget(self.production_id_input, row, 1)\r\n        row += 1\r\n\r\n        # Form Type\r\n        self.form_type_combo = QComboBox()\r\n        self.form_type_combo.addItems([\"\", \"New\", \"Correction\"])\r\n        self.form_type_combo.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Form Type:\"), row, 0)\r\n        primary_layout.addWidget(self.form_type_combo, row, 1)\r\n        row += 1\r\n\r\n        # Product Code\r\n        self.product_code_input = QLineEdit()\r\n        self.product_code_input.setPlaceholderText(\"Enter product code\")\r\n        self.product_code_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Product Code:\"), row, 0)\r\n        primary_layout.addWidget(self.product_code_input, row, 1)\r\n        row += 1\r\n\r\n        # Product Color\r\n        self.product_color_input = QLineEdit()\r\n        self.product_color_input.setPlaceholderText(\"Enter product color\")\r\n        primary_layout.addWidget(QLabel(\"Product Color:\"), row, 0)\r\n        primary_layout.addWidget(self.product_color_input, row, 1)\r\n        row += 1\r\n\r\n        # Formula\r\n        self.formula_input = QLineEdit()\r\n        self.formula_input.setPlaceholderText(\"0\")\r\n        primary_layout.addWidget(QLabel(\"Formula:\"), row, 0)\r\n        primary_layout.addWidget(self.formula_input, row, 1)\r\n        row += 1\r\n\r\n        # Sum of Cons and Dosage in one row\r\n        sum_dosage_layout = QHBoxLayout()\r\n        sum_dosage_layout.setSpacing(9)\r\n\r\n        self.sum_cons_input = QLineEdit()\r\n        self.sum_cons_input.setPlaceholderText(\"0.00000\")\r\n        self.sum_cons_input.focusOutEvent = lambda event: self.format_to_float(event, self.sum_cons_input)\r\n        sum_dosage_layout.addWidget(self.sum_cons_input)\r\n\r\n        dosage_label = QLabel(\"Dosage:\")\r\n        sum_dosage_layout.addWidget(dosage_label)\r\n\r\n        self.dosage_input = QLineEdit()\r\n        self.dosage_input.setPlaceholderText(\"0.000000\")\r\n        self.dosage_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.dosage_input.focusOutEvent = lambda event: self.format_to_float(event, self.dosage_input)\r\n        sum_dosage_layout.addWidget(self.dosage_input)\r\n\r\n        primary_layout.addWidget(QLabel(\"Sum of Cons:\"), row, 0)\r\n        primary_layout.addLayout(sum_dosage_layout, row, 1)\r\n        row += 1\r\n\r\n        # Customer\r\n        self.customer_input = QLineEdit()\r\n        self.customer_input.setPlaceholderText(\"Enter customer\")\r\n        self.customer_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Customer:\"), row, 0)\r\n        primary_layout.addWidget(self.customer_input, row, 1)\r\n        row += 1\r\n\r\n        # Lot No\r\n        self.lot_no_input = QLineEdit()\r\n        self.lot_no_input.setPlaceholderText(\"Enter lot number\")\r\n        self.lot_no_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Lot No:\"), row, 0)\r\n        primary_layout.addWidget(self.lot_no_input, row, 1)\r\n        row += 1\r\n\r\n        # Production Date\r\n        self.production_date_input = SmartDateEdit()\r\n        self.production_date_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Production Date:\"), row, 0)\r\n        primary_layout.addWidget(self.production_date_input, row, 1)\r\n        row += 1\r\n\r\n        # Confirmation Date\r\n        self.confirmation_date_input = SmartDateEdit()\r\n        primary_layout.addWidget(QLabel(\"Confirmation Date\\n(For Inventory Only):\"), row, 0)\r\n        primary_layout.addWidget(self.confirmation_date_input, row, 1)\r\n        row += 1\r\n\r\n        # Order Form No\r\n        self.order_form_no_input = QLineEdit()\r\n        self.order_form_no_input.setPlaceholderText(\"Enter order form number\")\r\n        self.order_form_no_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Order Form No:\"), row, 0)\r\n        primary_layout.addWidget(self.order_form_no_input, row, 1)\r\n        row += 1\r\n\r\n        # Colormatch No\r\n        self.colormatch_no_input = QLineEdit()\r\n        self.colormatch_no_input.setPlaceholderText(\"Enter colormatch number\")\r\n        primary_layout.addWidget(QLabel(\"Colormatch No:\"), row, 0)\r\n        primary_layout.addWidget(self.colormatch_no_input, row, 1)\r\n        row += 1\r\n\r\n        # Matched Date\r\n        self.matched_date_input = SmartDateEdit()\r\n        primary_layout.addWidget(QLabel(\"Matched Date:\"), row, 0)\r\n        primary_layout.addWidget(self.matched_date_input, row, 1)\r\n        row += 1\r\n\r\n        # Mixing Time and Machine No in one row\r\n        mixing_machine_layout = QHBoxLayout()\r\n        mixing_machine_layout.setSpacing(9)\r\n\r\n        self.mixing_time_input = QLineEdit()\r\n        self.mixing_time_input.setPlaceholderText(\"Enter mixing time\")\r\n        mixing_machine_layout.addWidget(self.mixing_time_input)\r\n\r\n        machine_no_label = QLabel(\"Machine No:\")\r\n        mixing_machine_layout.addWidget(machine_no_label)\r\n\r\n        self.machine_no_input = QLineEdit()\r\n        self.machine_no_input.setPlaceholderText(\"Enter machine number\")\r\n        mixing_machine_layout.addWidget(self.machine_no_input)\r\n\r\n        primary_layout.addWidget(QLabel(\"Mixing Time:\"), row, 0)\r\n        primary_layout.addLayout(mixing_machine_layout, row, 1)\r\n        row += 1\r\n\r\n        # Qty Required and Qty Per Batch in one row\r\n        qty_layout = QHBoxLayout()\r\n        qty_layout.setSpacing(9)\r\n\r\n        self.qty_required_input = QLineEdit()\r\n        self.qty_required_input.setPlaceholderText(\"0.0000000\")\r\n        self.qty_required_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.qty_required_input.focusOutEvent = lambda event: self.format_to_float(event, self.qty_required_input)\r\n        qty_layout.addWidget(self.qty_required_input)\r\n\r\n        qty_batch_label = QLabel(\"Qty. Per Batch:\")\r\n        qty_layout.addWidget(qty_batch_label)\r\n\r\n        self.qty_per_batch_input = QLineEdit()\r\n        self.qty_per_batch_input.setPlaceholderText(\"0.0000000\")\r\n        self.qty_per_batch_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.qty_per_batch_input.focusOutEvent = lambda event: self.format_to_float(event, self.qty_per_batch_input)\r\n        qty_layout.addWidget(self.qty_per_batch_input)\r\n\r\n        primary_layout.addWidget(QLabel(\"Qty. Required:\"), row, 0)\r\n        primary_layout.addLayout(qty_layout, row, 1)\r\n        row += 1\r\n\r\n        # Prepared By\r\n        self.prepared_by_input = QLineEdit()\r\n        self.prepared_by_input.setPlaceholderText(\"Enter preparer name\")\r\n        self.prepared_by_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        primary_layout.addWidget(QLabel(\"Prepared By:\"), row, 0)\r\n        primary_layout.addWidget(self.prepared_by_input, row, 1)\r\n        row += 1\r\n\r\n        # Notes\r\n        self.notes_input = QTextEdit()\r\n        self.notes_input.setPlaceholderText(\"Enter any notes...\")\r\n        self.notes_input.setMinimumHeight(30)\r\n        self.notes_input.setMaximumHeight(50)\r\n        primary_layout.addWidget(QLabel(\"Notes:\"), row, 0)\r\n        primary_layout.addWidget(self.notes_input, row, 1)\r\n        row += 1\r\n\r\n        left_column.addWidget(primary_card)\r\n        scroll_layout.addLayout(left_column, stretch=1)\r\n\r\n        # Right Column - Materials\r\n        right_column = QVBoxLayout()\r\n        right_column.setSpacing(8)\r\n\r\n        # Materials Card\r\n        material_card = QGroupBox(\"Material Composition\")\r\n        material_layout = QVBoxLayout(material_card)\r\n        material_layout.setContentsMargins(8, 12, 8, 8)\r\n        material_layout.setSpacing(6)\r\n\r\n        # Material Type Selection (Radio-button behavior)\r\n        material_type_layout = QHBoxLayout()\r\n        material_type_layout.addWidget(QLabel(\"Material Used:\"))\r\n        self.raw_material_check = QCheckBox(\"RAW MATERIAL\")\r\n        self.raw_material_check.setChecked(True)\r\n        self.non_raw_material_check = QCheckBox(\"NON-RAW MATERIAL\")\r\n\r\n        # Make checkboxes behave like radio buttons\r\n        self.raw_material_check.toggled.connect(lambda checked: self.on_material_type_changed(checked, True))\r\n        self.non_raw_material_check.toggled.connect(lambda checked: self.on_material_type_changed(checked, False))\r\n\r\n        material_type_layout.addWidget(self.raw_material_check)\r\n        material_type_layout.addWidget(self.non_raw_material_check)\r\n        material_type_layout.addStretch()\r\n        material_layout.addLayout(material_type_layout)\r\n\r\n        # Material Input Section\r\n        input_card = QFrame()\r\n        input_card.setStyleSheet(\"\"\"\r\n            QFrame {\r\n                background-color: #f8f9fa;\r\n                border: 1px solid #dee2e6;\r\n                border-radius: 4px;\r\n                padding: 10px;\r\n            }\r\n        \"\"\")\r\n        input_layout = QGridLayout(input_card)\r\n        input_layout.setSpacing(6)\r\n\r\n        # Material Code - Create both QComboBox and QLineEdit\r\n        self.material_code_combo = QComboBox()\r\n        self.material_code_combo.setEditable(True)\r\n        self.material_code_combo.setInsertPolicy(QComboBox.InsertPolicy.NoInsert)\r\n        self.material_code_combo.setPlaceholderText(\"Enter material code\")\r\n        self.material_code_combo.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.material_code_combo.lineEdit().editingFinished.connect(self.validate_rm_code)\r\n\r\n        # Setup completer for combo box\r\n        self.setup_rm_code_completer()\r\n\r\n        self.material_code_lineedit = QLineEdit()\r\n        self.material_code_lineedit.setPlaceholderText(\"Enter material code\")\r\n        self.material_code_lineedit.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.material_code_lineedit.setVisible(False)  # Hidden by default\r\n\r\n        # Add label\r\n        input_layout.addWidget(QLabel(\"Material Code:\"), 0, 0)\r\n        # Add both widgets to the same position (only one will be visible at a time)\r\n        input_layout.addWidget(self.material_code_combo, 0, 1)\r\n        input_layout.addWidget(self.material_code_lineedit, 0, 1)\r\n\r\n        # Large Scale\r\n        self.large_scale_input = QLineEdit()\r\n        self.large_scale_input.setPlaceholderText(\"0.0000000\")\r\n        self.large_scale_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        input_layout.addWidget(QLabel(\"Large Scale (KG):\"), 1, 0)\r\n        input_layout.addWidget(self.large_scale_input, 1, 1)\r\n\r\n        # Small Scale\r\n        self.small_scale_input = QLineEdit()\r\n        self.small_scale_input.setPlaceholderText(\"0.0000000\")\r\n        self.small_scale_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        input_layout.addWidget(QLabel(\"Small Scale (G):\"), 2, 0)\r\n        input_layout.addWidget(self.small_scale_input, 2, 1)\r\n\r\n        # Total Weight\r\n        self.total_weight_input = QLineEdit()\r\n        self.total_weight_input.setPlaceholderText(\"0.0000000\")\r\n        self.total_weight_input.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.total_weight_input.returnPressed.connect(self.add_material)\r\n        input_layout.addWidget(QLabel(\"Total Weight (KG):\"), 3, 0)\r\n        input_layout.addWidget(self.total_weight_input, 3, 1)\r\n\r\n        # Action Buttons\r\n        action_layout = QHBoxLayout()\r\n        action_layout.addStretch()\r\n\r\n        add_btn = QPushButton(\"Add\")\r\n        add_btn.setObjectName(\"SuccessButton\")\r\n        add_btn.clicked.connect(self.add_material)\r\n        action_layout.addWidget(add_btn)\r\n\r\n        remove_btn = QPushButton(\"Remove\")\r\n        remove_btn.setObjectName(\"DangerButton\")\r\n        remove_btn.clicked.connect(self.remove_material)\r\n        action_layout.addWidget(remove_btn)\r\n\r\n        clear_btn = QPushButton(\"Clear\")\r\n        clear_btn.setObjectName(\"SecondaryButton\")\r\n        clear_btn.clicked.connect(self.clear_material_table)\r\n        action_layout.addWidget(clear_btn)\r\n\r\n        input_layout.addLayout(action_layout, 4, 0, 1, 2)\r\n\r\n        material_layout.addWidget(input_card)\r\n\r\n        # Materials Table\r\n        self.materials_table = QTableWidget()\r\n        self.materials_table.setColumnCount(4)\r\n        self.materials_table.setHorizontalHeaderLabels([\r\n            \"Material Name\", \"Large Scale (KG)\", \"Small Scale (G)\",\r\n            \"Total Weight (KG)\"\r\n        ])\r\n        self.materials_table.horizontalHeader().setSectionResizeMode(QHeaderView.ResizeMode.Stretch)\r\n        self.materials_table.setHorizontalScrollBarPolicy(Qt.ScrollBarPolicy.ScrollBarAsNeeded)\r\n        self.materials_table.setEditTriggers(QAbstractItemView.EditTrigger.NoEditTriggers)\r\n        self.materials_table.verticalHeader().setVisible(False)\r\n        self.materials_table.setAlternatingRowColors(True)\r\n        self.materials_table.setMinimumHeight(300)\r\n        self.materials_table.setSelectionBehavior(QAbstractItemView.SelectionBehavior.SelectRows)\r\n        self.materials_table.setSelectionMode(QAbstractItemView.SelectionMode.SingleSelection)\r\n        material_layout.addWidget(self.materials_table)\r\n\r\n        # Totals Display\r\n        total_layout = QHBoxLayout()\r\n        total_layout.addWidget(QLabel(\"No. of Item(s):\"))\r\n        self.no_items_label = QLabel(\"0\")\r\n        self.no_items_label.setStyleSheet(\"font-weight: bold; color: #0078d4;\")\r\n        total_layout.addWidget(self.no_items_label)\r\n        total_layout.addStretch()\r\n        total_layout.addWidget(QLabel(\"Total Weight:\"))\r\n        self.total_weight_label = QLabel(\"0.0000000\")\r\n        self.total_weight_label.setStyleSheet(\"font-weight: bold; color: #0078d4;\")\r\n        total_layout.addWidget(self.total_weight_label)\r\n        total_layout.addWidget(QLabel(\"FG # in 10 (EQR WH) only\"))\r\n        self.fg_label = QLabel(\"0000000\")\r\n        self.fg_label.setStyleSheet(\"background-color: #fff9c4; padding: 2px 8px; font-weight: bold;\")\r\n        total_layout.addWidget(self.fg_label)\r\n        material_layout.addLayout(total_layout)\r\n\r\n        # Encoding Information\r\n        encoding_layout = QGridLayout()\r\n        encoding_layout.setSpacing(6)\r\n\r\n        self.encoded_by_display = QLineEdit()\r\n        self.encoded_by_display.setReadOnly(True)\r\n        self.encoded_by_display.setText(self.work_station['u'])\r\n        self.encoded_by_display.setStyleSheet(\"background-color: #e9ecef;\")\r\n\r\n        encoding_layout.addWidget(QLabel(\"Encoded By:\"), 0, 0)\r\n        encoding_layout.addWidget(self.encoded_by_display, 0, 1)\r\n\r\n        self.production_confirmation_display = QLineEdit()\r\n        self.production_confirmation_display.setPlaceholderText(\"mm/dd/yyyy h:m:s\")\r\n        self.production_confirmation_display.setStyleSheet(\"background-color: #fff9c4;\")\r\n        self.production_confirmation_display.setReadOnly(True)\r\n        encoding_layout.addWidget(QLabel(\"Production Confirmation Encoded On:\"), 1, 0)\r\n        encoding_layout.addWidget(self.production_confirmation_display, 1, 1)\r\n\r\n        self.production_encoded_display = QLineEdit()\r\n        self.production_encoded_display.setText(datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))\r\n        self.production_encoded_display.setReadOnly(True)\r\n        self.production_encoded_display.setStyleSheet(\"background-color: #e9ecef;\")\r\n        encoding_layout.addWidget(QLabel(\"Production Encoded On:\"), 2, 0)\r\n        encoding_layout.addWidget(self.production_encoded_display, 2, 1)\r\n\r\n        material_layout.addLayout(encoding_layout)\r\n\r\n        right_column.addWidget(material_card)\r\n        scroll_layout.addLayout(right_column, stretch=1)\r\n\r\n        scroll.setWidget(scroll_widget)\r\n        main_layout.addWidget(scroll)\r\n\r\n        # Bottom Buttons\r\n        button_layout = QHBoxLayout()\r\n        button_layout.addStretch()\r\n\r\n        print_wip_btn = QPushButton(\"Print with WIP\", objectName=\"InfoButton\")\r\n        print_wip_btn.setIcon(fa.icon('mdi.printer-eye', color='white'))\r\n        print_wip_btn.clicked.connect(self.print_with_wip)\r\n        button_layout.addWidget(print_wip_btn)\r\n\r\n        print_btn = QPushButton(\"Print\", objectName=\"SecondaryButton\")\r\n        print_btn.setIcon(fa.icon('mdi.printer-eye', color='white'))\r\n        print_btn.clicked.connect(self.print_production)\r\n        button_layout.addWidget(print_btn)\r\n\r\n        new_btn = QPushButton(\"New\", objectName=\"PrimaryButton\")\r\n        new_btn.setIcon(fa.icon('fa5s.file', color='white'))\r\n        new_btn.clicked.connect(self.new_production)\r\n        button_layout.addWidget(new_btn)\r\n\r\n        save_btn = QPushButton(\"Save\", objectName=\"SuccessButton\")\r\n        save_btn.setIcon(fa.icon('fa5s.save', color='white'))\r\n        save_btn.clicked.connect(self.save_production)\r\n        button_layout.addWidget(save_btn)\r\n\r\n        main_layout.addLayout(button_layout)\r\n\r\n    def validate_rm_code(self):\r\n        \"\"\"Prevent invalid input.\"\"\"\r\n        current_text = self.material_code_combo.currentText()\r\n        if current_text not in global_var.rm_list:\r\n            self.material_code_combo.setCurrentIndex(0)\r\n\r\n    def setup_rm_code_completer(self):\r\n        \"\"\"Setup the completer for RM codes using cached data.\"\"\"\r\n        self.material_code_combo.clear()\r\n        self.material_code_combo.addItems(global_var.rm_list)\r\n\r\n        rm_completer = QCompleter(global_var.rm_list, self.material_code_combo)\r\n        rm_completer.setCompletionMode(QCompleter.CompletionMode.PopupCompletion)\r\n        rm_completer.setCaseSensitivity(Qt.CaseSensitivity.CaseInsensitive)\r\n        self.material_code_combo.setCompleter(rm_completer)\r\n\r\n    def user_access(self, user_role):\r\n        \"\"\"Disable certain features for viewers.\"\"\"\r\n        if user_role == 'Viewer':\r\n            self.enable_fields(enable=False)\r\n            # Allow preview buttons\r\n            for btn in self.findChildren(QPushButton):\r\n                if \"PRINT\" in btn.text():\r\n                    btn.setEnabled(True)\r\n\r\n    def on_material_type_changed(self, checked, is_raw):\r\n        \"\"\"Handle material type selection like radio buttons and switch input fields.\"\"\"\r\n        if is_raw:\r\n            if checked:\r\n                self.non_raw_material_check.setChecked(False)\r\n                self.material_code_combo.setVisible(True)\r\n                self.material_code_lineedit.setVisible(False)\r\n            else:\r\n                if not self.non_raw_material_check.isChecked():\r\n                    self.raw_material_check.setChecked(True)\r\n        else:\r\n            if checked:\r\n                self.raw_material_check.setChecked(False)\r\n                self.material_code_combo.setVisible(False)\r\n                self.material_code_lineedit.setVisible(True)\r\n            else:\r\n                if not self.raw_material_check.isChecked():\r\n                    self.non_raw_material_check.setChecked(True)\r\n\r\n    def get_material_code(self):\r\n        \"\"\"Get the material code from the currently visible widget.\"\"\"\r\n        if self.raw_material_check.isChecked():\r\n            return self.material_code_combo.currentText().strip()\r\n        else:\r\n            return self.material_code_lineedit.text().strip()\r\n\r\n    def format_to_float(self, event, line_edit):\r\n        \"\"\"Format the input to a float with 6 decimal places when focus is lost.\"\"\"\r\n        text = line_edit.text().strip()\r\n        try:\r\n            if text:\r\n                value = float(text)\r\n                line_edit.setText(f\"{value:.6f}\")\r\n        except ValueError:\r\n            QMessageBox.warning(self, \"Invalid Input\", \"Please enter a valid number.\")\r\n            line_edit.setFocus()\r\n            line_edit.selectAll()\r\n            return\r\n        QLineEdit.focusOutEvent(line_edit, event)\r\n\r\n    def new_production(self):\r\n        \"\"\"Initialize a new production entry.\"\"\"\r\n        self.current_production_id = None\r\n        try:\r\n            latest_prod = db_call.get_latest_prod_id()\r\n            self.production_id_input.setText(str(latest_prod + 1))\r\n        except Exception as e:\r\n            self.production_id_input.setText(\"1\")\r\n\r\n        self.form_type_combo.setCurrentIndex(0)\r\n        self.product_code_input.clear()\r\n        self.product_color_input.clear()\r\n        self.formula_input.clear()\r\n        self.sum_cons_input.clear()\r\n        self.dosage_input.clear()\r\n        self.customer_input.clear()\r\n        self.lot_no_input.clear()\r\n        self.production_date_input.setText(\"\")\r\n        self.confirmation_date_input.setText(\"\")\r\n        self.order_form_no_input.clear()\r\n        self.colormatch_no_input.clear()\r\n        self.matched_date_input.setText(\"\")\r\n        self.mixing_time_input.clear()\r\n        self.machine_no_input.clear()\r\n        self.qty_required_input.clear()\r\n        self.qty_per_batch_input.clear()\r\n        self.prepared_by_input.clear()\r\n        self.notes_input.clear()\r\n\r\n        self.encoded_by_display.setText(self.work_station['u'])\r\n        self.production_encoded_display.setText(datetime.now().strftime(\"%m/%d/%Y %I:%M:%S %p\"))\r\n        self.production_confirmation_display.clear()\r\n\r\n        self.materials_table.setRowCount(0)\r\n        self.clear_material_inputs()\r\n        self.update_totals()\r\n        self.enable_fields(enable=True)\r\n\r\n    def clear_material_inputs(self):\r\n        \"\"\"Clear material input fields.\"\"\"\r\n        self.material_code_combo.setCurrentIndex(0)\r\n        self.material_code_lineedit.clear()\r\n        self.large_scale_input.clear()\r\n        self.small_scale_input.clear()\r\n        self.total_weight_input.clear()\r\n\r\n    def clear_material_table(self):\r\n        self.materials_table.setRowCount(0)\r\n        self.clear_material_inputs()\r\n        self.update_totals()\r\n\r\n    def add_material(self):\r\n        \"\"\"Add material to the table.\"\"\"\r\n        material_code = self.get_material_code().strip()\r\n\r\n        if not material_code:\r\n            QMessageBox.warning(self, \"Missing Input\", \"Please enter a material code.\")\r\n            return\r\n\r\n        if self.raw_material_check.isChecked():\r\n            if material_code not in global_var.rm_list:\r\n                QMessageBox.warning(self, \"Invalid Material\",\r\n                                    \"Please select a valid raw material code from the list.\")\r\n                return\r\n\r\n        large_scale_text = self.large_scale_input.text().strip()\r\n        small_scale_text = self.small_scale_input.text().strip()\r\n        total_weight_text = self.total_weight_input.text().strip()\r\n\r\n        if not large_scale_text or not small_scale_text or not total_weight_text:\r\n            QMessageBox.warning(self, \"Missing Input\", \"Please fill in all scale and weight fields.\")\r\n            return\r\n\r\n        try:\r\n            large_scale = float(large_scale_text)\r\n            small_scale = float(small_scale_text)\r\n            total_weight = float(total_weight_text)\r\n        except ValueError:\r\n            QMessageBox.warning(self, \"Invalid Input\", \"Please enter valid numbers for scales and weight.\")\r\n            return\r\n\r\n        row_position = self.materials_table.rowCount()\r\n        self.materials_table.insertRow(row_position)\r\n\r\n        self.materials_table.setItem(row_position, 0, QTableWidgetItem(material_code))\r\n        self.materials_table.setItem(row_position, 1, NumericTableWidgetItem(large_scale, is_float=True))\r\n        self.materials_table.setItem(row_position, 2, NumericTableWidgetItem(small_scale, is_float=True))\r\n        self.materials_table.setItem(row_position, 3, NumericTableWidgetItem(total_weight, is_float=True))\r\n\r\n        self.clear_material_inputs()\r\n        self.update_totals()\r\n        self.material_code_combo.setFocus()\r\n\r\n    def remove_material(self):\r\n        \"\"\"Remove selected material from table.\"\"\"\r\n        current_row = self.materials_table.currentRow()\r\n        if current_row >= 0:\r\n            self.materials_table.removeRow(current_row)\r\n            self.update_totals()\r\n        else:\r\n            QMessageBox.warning(self, \"No Selection\", \"Please select a material to remove.\")\r\n\r\n    def update_totals(self):\r\n        \"\"\"Update the total weight and item count displays.\"\"\"\r\n        total_weight = 0.0\r\n        item_count = self.materials_table.rowCount()\r\n\r\n        for row in range(item_count):\r\n            item = self.materials_table.item(row, 3)\r\n            if item:\r\n                if isinstance(item, NumericTableWidgetItem):\r\n                    total_weight += float(item.value)\r\n                else:\r\n                    try:\r\n                        total_weight += float(item.text())\r\n                    except ValueError:\r\n                        pass\r\n\r\n        self.no_items_label.setText(str(item_count))\r\n        self.total_weight_label.setText(f\"{total_weight:.7f}\")\r\n\r\n    def enable_fields(self, enable=True):\r\n        \"\"\"Enable or disable all input fields.\"\"\"\r\n        widgets = [\r\n            self.wip_no_input, self.production_id_input, self.form_type_combo,\r\n            self.product_code_input, self.product_color_input, self.formula_input,\r\n            self.sum_cons_input, self.dosage_input, self.customer_input,\r\n            self.lot_no_input, self.production_date_input, self.confirmation_date_input,\r\n            self.order_form_no_input, self.colormatch_no_input, self.matched_date_input,\r\n            self.mixing_time_input, self.machine_no_input, self.qty_required_input,\r\n            self.qty_per_batch_input, self.prepared_by_input, self.notes_input,\r\n            self.raw_material_check, self.non_raw_material_check,\r\n            self.material_code_combo, self.material_code_lineedit,\r\n            self.large_scale_input, self.small_scale_input, self.total_weight_input,\r\n            self.materials_table\r\n        ]\r\n        for w in widgets:\r\n            w.setEnabled(enable)\r\n\r\n    def load_production(self, prod_id):\r\n        \"\"\"Load production data into the form using direct dict access.\"\"\"\r\n        try:\r\n            result = db_call.get_single_production_data(prod_id)\r\n            if not result:\r\n                QMessageBox.warning(self, \"Not Found\",\r\n                                    f\"Production {prod_id} not found.\")\r\n                return False\r\n        except Exception as e:\r\n            QMessageBox.critical(self, \"Error\", f\"Failed to load: {e}\")\r\n            return False\r\n\r\n        # ------------------------------------------------------------------ #\r\n        #  Basic fields  direct access (keys are guaranteed by the query)\r\n        # ------------------------------------------------------------------ #\r\n        self.production_id_input.setText(str(result['prod_id']))\r\n        self.form_type_combo.setCurrentText(str(result['form_type']))\r\n        self.product_code_input.setText(str(result['product_code']))\r\n        self.product_color_input.setText(str(result['product_color']))\r\n        self.formula_input.setText(str(result['formulation_id']))\r\n        self.sum_cons_input.setText(f\"{result['dosage']:.6f}\")\r\n        self.dosage_input.setText(f\"{result['ld_percent']:.6f}\")\r\n        self.customer_input.setText(str(result['customer']))\r\n        self.lot_no_input.setText(str(result['lot_number']))\r\n        self.order_form_no_input.setText(str(result['order_form_no']))\r\n        self.colormatch_no_input.setText(str(result['colormatch_no']))\r\n        self.prepared_by_input.setText(str(result['prepared_by']))\r\n        self.notes_input.setPlainText(str(result['notes']))\r\n\r\n        # ------------------------------------------------------------------ #\r\n        #  Date fields  inline helper to keep the code tidy\r\n        # ------------------------------------------------------------------ #\r\n        def _set_date(widget, date_obj):\r\n            if date_obj:\r\n                widget.setText(date_obj.strftime(\"%m/%d/%Y\"))\r\n            else:\r\n                widget.clear()\r\n\r\n        _set_date(self.production_date_input, result.get('production_date'))\r\n        _set_date(self.confirmation_date_input, result.get('confirmation_date'))\r\n        _set_date(self.matched_date_input, result.get('colormatch_date'))\r\n\r\n        # ------------------------------------------------------------------ #\r\n        #  Other fields\r\n        # ------------------------------------------------------------------ #\r\n        self.mixing_time_input.setText(str(result['mixing_time']))\r\n        self.machine_no_input.setText(str(result['machine_no']))\r\n        self.qty_required_input.setText(f\"{result['qty_required']:.6f}\")\r\n        self.qty_per_batch_input.setText(f\"{result['qty_per_batch']:.6f}\")\r\n\r\n        self.encoded_by_display.setText(str(result['encoded_by']))\r\n        if result.get('encoded_on'):\r\n            self.production_encoded_display.setText(\r\n                result['encoded_on'].strftime(\"%m/%d/%Y %I:%M:%S %p\"))\r\n        if result.get('conf_encoded_on'):\r\n            self.production_confirmation_display.setText(\r\n                result['conf_encoded_on'].strftime(\"%m/%d/%Y %I:%M:%S %p\"))\r\n\r\n        # ------------------------------------------------------------------ #\r\n        #  Materials table\r\n        # ------------------------------------------------------------------ #\r\n        materials = db_call.get_single_production_details(prod_id) or []\r\n        self.materials_table.setRowCount(0)\r\n\r\n        for mat in materials:\r\n            row = self.materials_table.rowCount()\r\n            self.materials_table.insertRow(row)\r\n\r\n            # Tuple indexing: (material_code, large_scale, small_scale, total_weight)\r\n            self.materials_table.setItem(row, 0,\r\n                                         QTableWidgetItem(str(mat[0])))  # material_code\r\n\r\n            self.materials_table.setItem(row, 1,\r\n                                         NumericTableWidgetItem(mat[1], is_float=True))  # large_scale\r\n\r\n            self.materials_table.setItem(row, 2,\r\n                                         NumericTableWidgetItem(mat[2], is_float=True))  # small_scale\r\n\r\n            self.materials_table.setItem(row, 3,\r\n                                         NumericTableWidgetItem(mat[3], is_float=True))  # total_weight\r\n\r\n        self.update_totals()\r\n        return True\r\n\r\n    def edit_production(self, prod_id):\r\n        self.current_production_id = prod_id\r\n        if self.load_production(prod_id):\r\n            self.enable_fields(enable=True)\r\n\r\n    def view_production_details(self, prod_id):\r\n        \"\"\"View production in read-only mode.\"\"\"\r\n        self.current_production_id = prod_id\r\n        if self.load_production(prod_id):\r\n            self.enable_fields(enable=False)\r\n\r\n    def save_production(self):\r\n        \"\"\"Save or update production.\"\"\"\r\n        try:\r\n            dosage = float(self.sum_cons_input.text().strip() or 0)\r\n            ld_dosage = float(self.dosage_input.text().strip() or 0)\r\n            qty_required = float(self.qty_required_input.text().strip() or 0)\r\n            qty_per_batch = float(self.qty_per_batch_input.text().strip() or 0)\r\n        except ValueError:\r\n            QMessageBox.warning(self, \"Invalid Input\", \"Please enter valid numbers.\")\r\n            return\r\n\r\n        required_fields = [\r\n            (\"Production ID\", self.production_id_input.text().strip()),\r\n            (\"Product Code\", self.product_code_input.text().strip()),\r\n            (\"Customer\", self.customer_input.text().strip()),\r\n            (\"Lot Number\", self.lot_no_input.text().strip()),\r\n            (\"Order Form No\", self.order_form_no_input.text().strip()),\r\n            (\"Quantity Required\", str(qty_required)),\r\n            (\"Quantity per Batch\", str(qty_per_batch)),\r\n            (\"Prepared By\", self.prepared_by_input.text().strip()),\r\n        ]\r\n\r\n        for label, val in required_fields:\r\n            if not val or val == \"0.0\":\r\n                QMessageBox.warning(self, \"Missing Input\", f\"Please fill in: {label}\")\r\n                return\r\n\r\n        if self.materials_table.rowCount() == 0:\r\n            QMessageBox.warning(self, \"Missing Data\", \"Add at least one material.\")\r\n            return\r\n\r\n        production_data = {\r\n            'prod_id': self.production_id_input.text().strip(),\r\n            'form_type': self.form_type_combo.currentText(),\r\n            'product_code': self.product_code_input.text().strip(),\r\n            'product_color': self.product_color_input.text().strip(),\r\n            'formulation_id': self.formula_input.text().strip(),\r\n            'dosage': dosage,\r\n            'ld_percent': ld_dosage,\r\n            'customer': self.customer_input.text().strip(),\r\n            'lot_number': self.lot_no_input.text().strip(),\r\n            'production_date': self.production_date_input.get_date(),\r\n            'confirmation_date': self.confirmation_date_input.get_date(),\r\n            'order_form_no': self.order_form_no_input.text().strip(),\r\n            'colormatch_no': self.colormatch_no_input.text().strip(),\r\n            'colormatch_date': self.matched_date_input.get_date(),\r\n            'mixing_time': self.mixing_time_input.text().strip(),\r\n            'machine_no': self.machine_no_input.text().strip(),\r\n            'qty_required': qty_required,\r\n            'qty_per_batch': qty_per_batch,\r\n            'prepared_by': self.prepared_by_input.text().strip(),\r\n            'notes': self.notes_input.toPlainText().strip(),\r\n            'qty_produced': self.total_weight_label.text().strip(),\r\n            'encoded_by': self.encoded_by_display.text().strip(),\r\n            'user_id': self.user_id,\r\n            'scheduled_date': datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"),\r\n            'conf_encoded_on': datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"),\r\n            'is_manual': True\r\n        }\r\n\r\n        material_data = []\r\n        for row in range(self.materials_table.rowCount()):\r\n            material_name = self.materials_table.item(row, 0).text()\r\n            large = float(self.materials_table.item(row, 1).text() or 0)\r\n            small = float(self.materials_table.item(row, 2).text() or 0)\r\n            total = float(self.materials_table.item(row, 3).text() or 0)\r\n            material_data.append({\r\n                'material_code': material_name,\r\n                'large_scale': large,\r\n                'small_scale': small,\r\n                'total_weight': total,\r\n                'total_loss': 0.0,\r\n                'total_consumption': 0.0\r\n            })\r\n\r\n        try:\r\n            if self.current_production_id:\r\n                db_call.update_production(production_data, material_data)\r\n                action = \"updated\"\r\n            else:\r\n                db_call.save_production(production_data, material_data)\r\n                action = \"saved\"\r\n\r\n            self.log_audit_trail(\"Manual Production\", f\"{action.capitalize()}: {production_data['prod_id']}\")\r\n            QMessageBox.information(self, \"Success\", f\"Production {action} successfully!\")\r\n            self.new_production()\r\n        except Exception as e:\r\n            QMessageBox.critical(self, \"Error\", f\"Failed to {action}: {e}\")\r\n\r\n    def print_production(self):\r\n        \"\"\"Print the production record.\"\"\"\r\n        if not self.production_id_input.text().strip():\r\n            QMessageBox.warning(self, \"No Data\", \"Please create or load a production record first.\")\r\n            return\r\n\r\n        # Gather production data\r\n        production_data = {\r\n            'prod_id': self.production_id_input.text().strip(),\r\n            'form_type': self.form_type_combo.currentText(),\r\n            'production_date': self.production_date_input.text(),\r\n            'order_form_no': self.order_form_no_input.text().strip(),\r\n            'formulation_id': self.formula_input.text().strip(),\r\n            'product_code': self.product_code_input.text().strip(),\r\n            'product_color': self.product_color_input.text().strip(),\r\n            'dosage': self.sum_cons_input.text().strip(),\r\n            'customer': self.customer_input.text().strip(),\r\n            'lot_number': self.lot_no_input.text().strip(),\r\n            'mixing_time': self.mixing_time_input.text().strip(),\r\n            'machine_no': self.machine_no_input.text().strip(),\r\n            'qty_required': self.qty_required_input.text().strip(),\r\n            'qty_per_batch': self.qty_per_batch_input.text().strip(),\r\n            'qty_produced': self.total_weight_label.text().strip(),\r\n            'prepared_by': self.prepared_by_input.text().strip(),\r\n            'notes': self.notes_input.toPlainText().strip(),\r\n            'approved_by': 'M. VERDE'\r\n        }\r\n\r\n        # Gather materials data\r\n        materials_data = []\r\n        for row in range(self.materials_table.rowCount()):\r\n            material = {\r\n                'material_code': self.materials_table.item(row, 0).text(),\r\n                'large_scale': self.materials_table.item(row, 1).text(),\r\n                'small_scale': self.materials_table.item(row, 2).text(),\r\n                'total_weight': self.materials_table.item(row, 3).text()\r\n            }\r\n            materials_data.append(material)\r\n\r\n        # Show preview preview\r\n        preview = ProductionPrintPreview(production_data, materials_data, self)\r\n        preview.show()\r\n\r\n        self.log_audit_trail(\"Manual Production\", f\"Printed production: {self.production_id_input.text()}\")\r\n\r\n    def print_with_wip(self):\r\n        \"\"\"Print production with WIP number.\"\"\"\r\n        if not self.production_id_input.text().strip():\r\n            QMessageBox.warning(self, \"No Data\", \"Please create or load a production record first.\")\r\n            return\r\n        QMessageBox.information(self, \"Print with WIP\", \"Print with WIP functionality to be implemented.\")\r\n        self.log_audit_trail(\"Manual Production\", f\"Printed with WIP: {self.wip_no_input.text()}\")
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/side_bar/production_manual_entry.py b/side_bar/production_manual_entry.py
--- a/side_bar/production_manual_entry.py	
+++ b/side_bar/production_manual_entry.py	
@@ -9,11 +9,11 @@
 import qtawesome as fa
 
 from db import db_call
-from previews.production_manual import ProductionPrintPreview
 from utils.date import SmartDateEdit
 from utils.work_station import _get_workstation_info
 from utils.numeric_table import NumericTableWidgetItem
 from utils import global_var
+from preview.production_preview import ProductionPrintPreview
 
 class ManualProductionPage(QWidget):
     def __init__(self, engine, username, user_role, log_audit_trail):
Index: previews/production_manual.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from datetime import datetime\r\nfrom PyQt6.QtWidgets import (QWidget, QVBoxLayout, QHBoxLayout, QPushButton,\r\n                             QLabel, QComboBox, QScrollArea, QFrame, QMessageBox)\r\nfrom PyQt6.QtCore import Qt, QSize\r\nfrom PyQt6.QtGui import QFont, QPainter, QPageLayout, QPageSize\r\nfrom PyQt6.QtPrintSupport import QPrinter, QPrintDialog\r\nimport qtawesome as fa\r\n\r\n\r\nclass ProductionPrintPreview(QWidget):\r\n    def __init__(self, production_data, materials_data, parent=None):\r\n        super().__init__(parent)\r\n        self.production_data = production_data\r\n        self.materials_data = materials_data\r\n        self.current_zoom = 100\r\n\r\n        self.setWindowTitle(\"Print Preview - Production Entry\")\r\n        self.resize(1000, 800)\r\n\r\n        self.setup_ui()\r\n        self.render_preview()\r\n\r\n    def setup_ui(self):\r\n        layout = QVBoxLayout(self)\r\n        layout.setContentsMargins(10, 10, 10, 10)\r\n\r\n        # Toolbar\r\n        toolbar = QHBoxLayout()\r\n\r\n        # Zoom controls\r\n        toolbar.addWidget(QLabel(\"Zoom:\"))\r\n\r\n        self.zoom_combo = QComboBox()\r\n        self.zoom_combo.addItems([\"50%\", \"75%\", \"100%\", \"125%\", \"150%\", \"200%\"])\r\n        self.zoom_combo.setCurrentText(\"100%\")\r\n        self.zoom_combo.currentTextChanged.connect(self.on_zoom_changed)\r\n        toolbar.addWidget(self.zoom_combo)\r\n\r\n        zoom_in_btn = QPushButton()\r\n        zoom_in_btn.setIcon(fa.icon('fa5s.search-plus'))\r\n        zoom_in_btn.setToolTip(\"Zoom In\")\r\n        zoom_in_btn.clicked.connect(self.zoom_in)\r\n        toolbar.addWidget(zoom_in_btn)\r\n\r\n        zoom_out_btn = QPushButton()\r\n        zoom_out_btn.setIcon(fa.icon('fa5s.search-minus'))\r\n        zoom_out_btn.setToolTip(\"Zoom Out\")\r\n        zoom_out_btn.clicked.connect(self.zoom_out)\r\n        toolbar.addWidget(zoom_out_btn)\r\n\r\n        toolbar.addStretch()\r\n\r\n        # Print button\r\n        print_btn = QPushButton(\"Print\")\r\n        print_btn.setIcon(fa.icon('fa5s.print', color='white'))\r\n        print_btn.setObjectName(\"SuccessButton\")\r\n        print_btn.clicked.connect(self.print_document)\r\n        toolbar.addWidget(print_btn)\r\n\r\n        # Close button\r\n        close_btn = QPushButton(\"Close\")\r\n        close_btn.setIcon(fa.icon('fa5s.times', color='white'))\r\n        close_btn.setObjectName(\"DangerButton\")\r\n        close_btn.clicked.connect(self.close)\r\n        toolbar.addWidget(close_btn)\r\n\r\n        layout.addLayout(toolbar)\r\n\r\n        # Scroll area for preview\r\n        scroll = QScrollArea()\r\n        scroll.setWidgetResizable(True)\r\n        scroll.setAlignment(Qt.AlignmentFlag.AlignCenter)\r\n        scroll.setStyleSheet(\"background-color: #525252;\")\r\n\r\n        # Preview container\r\n        self.preview_container = QWidget()\r\n        self.preview_layout = QVBoxLayout(self.preview_container)\r\n        self.preview_layout.setAlignment(Qt.AlignmentFlag.AlignCenter)\r\n\r\n        # Preview frame (the actual document)\r\n        self.preview_frame = QFrame()\r\n        self.preview_frame.setStyleSheet(\"\"\"\r\n            QFrame {\r\n                background-color: white;\r\n                border: 1px solid #ccc;\r\n            }\r\n        \"\"\")\r\n        self.preview_frame.setFixedSize(850, 1100)  # A4 size approximation\r\n\r\n        self.preview_layout.addWidget(self.preview_frame)\r\n        scroll.setWidget(self.preview_container)\r\n\r\n        layout.addWidget(scroll)\r\n\r\n    def render_preview(self):\r\n        \"\"\"Render the production report preview\"\"\"\r\n        # Clear existing layout\r\n        if self.preview_frame.layout():\r\n            QWidget().setLayout(self.preview_frame.layout())\r\n\r\n        layout = QVBoxLayout(self.preview_frame)\r\n        layout.setContentsMargins(40, 40, 40, 40)\r\n        layout.setSpacing(15)\r\n\r\n        # Header Section\r\n        header_layout = QHBoxLayout()\r\n\r\n        # Company info (left)\r\n        company_layout = QVBoxLayout()\r\n        company_label = QLabel(\"MASTERBATCH PHILIPPINES, INC.\")\r\n        company_label.setFont(QFont(\"Arial\", 11, QFont.Weight.Bold))\r\n        company_layout.addWidget(company_label)\r\n\r\n        prod_entry_label = QLabel(\"PRODUCTION ENTRY\")\r\n        prod_entry_label.setFont(QFont(\"Arial\", 10, QFont.Weight.Bold))\r\n        company_layout.addWidget(prod_entry_label)\r\n\r\n        form_no_label = QLabel(f\"FORM NO. {self.production_data.get('form_type', 'FM00012A1')}\")\r\n        form_no_label.setFont(QFont(\"Arial\", 9))\r\n        company_layout.addWidget(form_no_label)\r\n        company_layout.addStretch()\r\n\r\n        header_layout.addLayout(company_layout)\r\n        header_layout.addStretch()\r\n\r\n        # Production info box (right)\r\n        info_frame = QFrame()\r\n        info_frame.setStyleSheet(\"border: 2px solid black; padding: 5px;\")\r\n        info_layout = QVBoxLayout(info_frame)\r\n        info_layout.setSpacing(2)\r\n\r\n        info_items = [\r\n            (\"PRODUCTION ID\", self.production_data.get('prod_id', '')),\r\n            (\"PRODUCTION DATE\", self.production_data.get('production_date', '')),\r\n            (\"ORDER FORM NO.\", self.production_data.get('order_form_no', '')),\r\n            (\"FORMULATION NO.\", self.production_data.get('formulation_id', ''))\r\n        ]\r\n\r\n        for label, value in info_items:\r\n            item_layout = QHBoxLayout()\r\n            item_layout.addWidget(QLabel(f\"{label} :\"))\r\n            value_label = QLabel(str(value))\r\n            value_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n            item_layout.addWidget(value_label)\r\n            item_layout.addStretch()\r\n            info_layout.addLayout(item_layout)\r\n\r\n        header_layout.addWidget(info_frame)\r\n        layout.addLayout(header_layout)\r\n\r\n        # Separator\r\n        separator1 = QFrame()\r\n        separator1.setFrameShape(QFrame.Shape.HLine)\r\n        separator1.setStyleSheet(\"background-color: black;\")\r\n        separator1.setFixedHeight(2)\r\n        layout.addWidget(separator1)\r\n\r\n        # Product Details Section\r\n        details_layout = QHBoxLayout()\r\n\r\n        # Left column\r\n        left_details = QVBoxLayout()\r\n        left_items = [\r\n            (\"PRODUCT CODE\", self.production_data.get('product_code', '')),\r\n            (\"PRODUCT COLOR\", self.production_data.get('product_color', '')),\r\n            (\"DOSAGE\", self.production_data.get('dosage', '')),\r\n            (\"CUSTOMER\", self.production_data.get('customer', '')),\r\n            (\"LOT NO.\", self.production_data.get('lot_number', ''))\r\n        ]\r\n\r\n        for label, value in left_items:\r\n            item_layout = QHBoxLayout()\r\n            label_widget = QLabel(f\"{label} :\")\r\n            label_widget.setFixedWidth(120)\r\n            item_layout.addWidget(label_widget)\r\n            value_label = QLabel(str(value))\r\n            value_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n            item_layout.addWidget(value_label)\r\n            item_layout.addStretch()\r\n            left_details.addLayout(item_layout)\r\n\r\n        details_layout.addLayout(left_details)\r\n\r\n        # Right column\r\n        right_details = QVBoxLayout()\r\n        right_items = [\r\n            (\"MIXING TIME\", self.production_data.get('mixing_time', '')),\r\n            (\"MACHINE NO\", self.production_data.get('machine_no', '')),\r\n            (\"QTY REQUIRED\", self.production_data.get('qty_required', '')),\r\n            (\"QTY PER BATCH\", self.production_data.get('qty_per_batch', '')),\r\n            (\"QTY TO PRODUCE\", self.production_data.get('qty_produced', ''))\r\n        ]\r\n\r\n        for label, value in right_items:\r\n            item_layout = QHBoxLayout()\r\n            label_widget = QLabel(f\"{label} :\")\r\n            label_widget.setFixedWidth(120)\r\n            item_layout.addWidget(label_widget)\r\n            value_label = QLabel(str(value))\r\n            value_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n            item_layout.addWidget(value_label)\r\n            item_layout.addStretch()\r\n            right_details.addLayout(item_layout)\r\n\r\n        details_layout.addLayout(right_details)\r\n        layout.addLayout(details_layout)\r\n\r\n        # Batch info\r\n        batch_info = self.calculate_batch_info()\r\n        batch_label = QLabel(f\"     {batch_info}\")\r\n        batch_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n        batch_label.setAlignment(Qt.AlignmentFlag.AlignCenter)\r\n        layout.addWidget(batch_label)\r\n\r\n        # Materials Table\r\n        table_frame = QFrame()\r\n        table_frame.setStyleSheet(\"border: 2px solid black;\")\r\n        table_layout = QVBoxLayout(table_frame)\r\n        table_layout.setContentsMargins(0, 0, 0, 0)\r\n        table_layout.setSpacing(0)\r\n\r\n        # Table header\r\n        header_row = QFrame()\r\n        header_row.setStyleSheet(\"background-color: #f0f0f0; border-bottom: 2px solid black;\")\r\n        header_layout = QHBoxLayout(header_row)\r\n        header_layout.setContentsMargins(5, 5, 5, 5)\r\n\r\n        headers = [\r\n            (\"MATERIAL CODE\", 150),\r\n            (\"LARGE SCALE (Kg.)\", 150),\r\n            (\"SMALL SCALE (grm.)\", 150),\r\n            (\"WEIGHT (Kg.)\", 150)\r\n        ]\r\n\r\n        for header_text, width in headers:\r\n            header_label = QLabel(header_text)\r\n            header_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n            header_label.setAlignment(Qt.AlignmentFlag.AlignCenter)\r\n            header_label.setFixedWidth(width)\r\n            header_layout.addWidget(header_label)\r\n\r\n        table_layout.addWidget(header_row)\r\n\r\n        # Table rows\r\n        total_weight = 0.0\r\n        for material in self.materials_data:\r\n            row_frame = QFrame()\r\n            row_frame.setStyleSheet(\"border-bottom: 1px solid #ccc;\")\r\n            row_layout = QHBoxLayout(row_frame)\r\n            row_layout.setContentsMargins(5, 5, 5, 5)\r\n\r\n            # Material code\r\n            code_label = QLabel(material.get('material_code', ''))\r\n            code_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n            code_label.setFixedWidth(150)\r\n            row_layout.addWidget(code_label)\r\n\r\n            # Large scale\r\n            large_label = QLabel(f\"{float(material.get('large_scale', 0)):.6f}\")\r\n            large_label.setAlignment(Qt.AlignmentFlag.AlignRight)\r\n            large_label.setFixedWidth(150)\r\n            row_layout.addWidget(large_label)\r\n\r\n            # Small scale\r\n            small_label = QLabel(f\"{float(material.get('small_scale', 0)):.6f}\")\r\n            small_label.setAlignment(Qt.AlignmentFlag.AlignRight)\r\n            small_label.setFixedWidth(150)\r\n            row_layout.addWidget(small_label)\r\n\r\n            # Total weight\r\n            weight = float(material.get('total_weight', 0))\r\n            total_weight += weight\r\n            weight_label = QLabel(f\"{weight:.6f}\")\r\n            weight_label.setAlignment(Qt.AlignmentFlag.AlignRight)\r\n            weight_label.setFixedWidth(150)\r\n            row_layout.addWidget(weight_label)\r\n\r\n            table_layout.addWidget(row_frame)\r\n\r\n        # Notes and Total row\r\n        footer_frame = QFrame()\r\n        footer_frame.setStyleSheet(\"border-top: 2px solid black; background-color: #f9f9f9;\")\r\n        footer_layout = QHBoxLayout(footer_frame)\r\n        footer_layout.setContentsMargins(5, 5, 5, 5)\r\n\r\n        notes = self.production_data.get('notes', '')\r\n        note_label = QLabel(f\"NOTE: {notes}\" if notes else f\"NOTE: {batch_info}\")\r\n        note_label.setFont(QFont(\"Arial\", 9))\r\n        footer_layout.addWidget(note_label)\r\n        footer_layout.addStretch()\r\n\r\n        total_label = QLabel(\"TOTAL:\")\r\n        total_label.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n        footer_layout.addWidget(total_label)\r\n\r\n        total_value = QLabel(f\"{total_weight:.7f}\")\r\n        total_value.setFont(QFont(\"Arial\", 9, QFont.Weight.Bold))\r\n        total_value.setFixedWidth(150)\r\n        total_value.setAlignment(Qt.AlignmentFlag.AlignRight)\r\n        footer_layout.addWidget(total_value)\r\n\r\n        table_layout.addWidget(footer_frame)\r\n        layout.addWidget(table_frame)\r\n\r\n        layout.addStretch()\r\n\r\n        # Footer Section\r\n        footer_layout = QHBoxLayout()\r\n\r\n        # Left footer\r\n        left_footer = QVBoxLayout()\r\n        left_footer.addWidget(QLabel(f\"PREPARED BY : {self.production_data.get('prepared_by', '')}\"))\r\n        left_footer.addWidget(QLabel(f\"PRINTED ON : {datetime.now().strftime('%m/%d/%y %I:%M:%S %p')}\"))\r\n        left_footer.addWidget(QLabel(\"MBPI-SYSTEM-2022\"))\r\n\r\n        footer_layout.addLayout(left_footer)\r\n        footer_layout.addStretch()\r\n\r\n        # Right footer\r\n        right_footer = QVBoxLayout()\r\n        right_footer.addWidget(QLabel(f\"APPROVED BY        : {self.production_data.get('approved_by', 'M. VERDE')}\"))\r\n        right_footer.addWidget(QLabel(\"MAT'L RELEASED BY : _________________\"))\r\n        right_footer.addWidget(QLabel(\"PROCESSED BY           : _________________\"))\r\n\r\n        footer_layout.addLayout(right_footer)\r\n        layout.addLayout(footer_layout)\r\n\r\n    def calculate_batch_info(self):\r\n        \"\"\"Calculate batch information\"\"\"\r\n        try:\r\n            qty_required = float(self.production_data.get('qty_required', 0))\r\n            qty_per_batch = float(self.production_data.get('qty_per_batch', 0))\r\n\r\n            if qty_per_batch > 0:\r\n                batches = qty_required / qty_per_batch\r\n                return f\"{batches:.0f} batches by {qty_per_batch:.2f} KG.\"\r\n            return \"N/A\"\r\n        except:\r\n            return \"N/A\"\r\n\r\n    def on_zoom_changed(self, text):\r\n        \"\"\"Handle zoom combo box change\"\"\"\r\n        try:\r\n            zoom = int(text.replace('%', ''))\r\n            self.current_zoom = zoom\r\n            self.apply_zoom()\r\n        except:\r\n            pass\r\n\r\n    def zoom_in(self):\r\n        \"\"\"Increase zoom level\"\"\"\r\n        zoom_levels = [50, 75, 100, 125, 150, 200]\r\n        current_index = zoom_levels.index(self.current_zoom) if self.current_zoom in zoom_levels else 2\r\n        if current_index < len(zoom_levels) - 1:\r\n            new_zoom = zoom_levels[current_index + 1]\r\n            self.current_zoom = new_zoom\r\n            self.zoom_combo.setCurrentText(f\"{new_zoom}%\")\r\n            self.apply_zoom()\r\n\r\n    def zoom_out(self):\r\n        \"\"\"Decrease zoom level\"\"\"\r\n        zoom_levels = [50, 75, 100, 125, 150, 200]\r\n        current_index = zoom_levels.index(self.current_zoom) if self.current_zoom in zoom_levels else 2\r\n        if current_index > 0:\r\n            new_zoom = zoom_levels[current_index - 1]\r\n            self.current_zoom = new_zoom\r\n            self.zoom_combo.setCurrentText(f\"{new_zoom}%\")\r\n            self.apply_zoom()\r\n\r\n    def apply_zoom(self):\r\n        \"\"\"Apply zoom to preview\"\"\"\r\n        scale = self.current_zoom / 100.0\r\n        new_width = int(850 * scale)\r\n        new_height = int(1100 * scale)\r\n        self.preview_frame.setFixedSize(new_width, new_height)\r\n\r\n        # Update font sizes based on zoom\r\n        base_font_size = int(9 * scale)\r\n        self.preview_frame.setStyleSheet(f\"\"\"\r\n            QFrame {{\r\n                background-color: white;\r\n                border: 1px solid #ccc;\r\n            }}\r\n            QLabel {{\r\n                font-size: {base_font_size}pt;\r\n            }}\r\n        \"\"\")\r\n\r\n    def print_document(self):\r\n        \"\"\"Print the production document\"\"\"\r\n        printer = QPrinter(QPrinter.PrinterMode.HighResolution)\r\n        printer.setPageSize(QPageSize(QPageSize.PageSizeId.A4))\r\n        printer.setPageOrientation(QPageLayout.Orientation.Portrait)\r\n\r\n        dialog = QPrintDialog(printer, self)\r\n        if dialog.exec() == QPrintDialog.DialogCode.Accepted:\r\n            try:\r\n                # Reset zoom to 100% for printing\r\n                original_zoom = self.current_zoom\r\n                self.current_zoom = 100\r\n                self.apply_zoom()\r\n                self.render_preview()\r\n\r\n                # Print\r\n                painter = QPainter(printer)\r\n                self.preview_frame.render(painter)\r\n                painter.end()\r\n\r\n                # Restore original zoom\r\n                self.current_zoom = original_zoom\r\n                self.apply_zoom()\r\n                self.render_preview()\r\n\r\n                QMessageBox.information(self, \"Success\", \"Document printed successfully!\")\r\n            except Exception as e:\r\n                QMessageBox.critical(self, \"Print Error\", f\"Failed to print: {str(e)}\")
===================================================================
diff --git a/previews/production_manual.py b/previews/production_manual.py
--- a/previews/production_manual.py	
+++ b/previews/production_manual.py	
@@ -37,13 +37,13 @@
         toolbar.addWidget(self.zoom_combo)
 
         zoom_in_btn = QPushButton()
-        zoom_in_btn.setIcon(fa.icon('fa5s.search-plus'))
+        zoom_in_btn.setIcon(fa.icon('fa5s.plus'))
         zoom_in_btn.setToolTip("Zoom In")
         zoom_in_btn.clicked.connect(self.zoom_in)
         toolbar.addWidget(zoom_in_btn)
 
         zoom_out_btn = QPushButton()
-        zoom_out_btn.setIcon(fa.icon('fa5s.search-minus'))
+        zoom_out_btn.setIcon(fa.icon('fa5s.minus'))
         zoom_out_btn.setToolTip("Zoom Out")
         zoom_out_btn.clicked.connect(self.zoom_out)
         toolbar.addWidget(zoom_out_btn)
